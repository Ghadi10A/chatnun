{% extends 'base.html' %}
{% load i18n %}
{% load static %}
{% load socialaccount %}
{% providers_media_js %}
{% block content %}
<div class="row justify-content-center mt-5">
    <div class="text-center">
        <div id="loading" class="spinner-border" style="display: none;></div>
      </div>
      <script type="text/javascript">
        function showLoadingSpinner() {
          $("#loading").show();
        }

        function hideLoadingSpinner() {
          $("#loading").hide();
        }

        hideLoadingSpinner();
      </script>
  </div>
      <br>

<div class="row justify-content-center mt-5">
        <div class="col-md-7">
        {% if messages %}
    <ul class="list-unstyled">
        {% for message in messages %}
        <li class="alert alert-success alert-dismissible fade show" role="alert">
            {% trans message.message %}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </li>
        {% endfor %}
    </ul>
        {% endif %}
    </div>
</div>
    <div class="text-center">
        <h1 class="text-center mb-3">{% trans "Log in" %}</h1>

        <form method="post" action="{% url 'user_login' %}" class="form-group">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary btn-block" onclick="showLoadingSpinner()">{% trans "Log in" %}</button>
        </form>
        <br>
        <p>Or</p>
        <p> sign in with:</p>
<div style="margin-bottom: 10px;">
<a href="{% provider_login_url 'google' %}"><img src="{% static 'images/google-logo.png' %}" alt="Google"> </a>
</div>
<div>
<a href="{% provider_login_url 'microsoft' %}"><img src="{% static 'images/microsoft-logo.png' %}" alt="Microsoft"></a>
</div>
    </div>
    <br>
</div>
{% endblock %}